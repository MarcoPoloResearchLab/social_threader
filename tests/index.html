<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Social Threader Test Suite</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        ul { list-style: none; padding: 0; }
        li { margin-bottom: 8px; }
    </style>
</head>
<body>
    <h1>Social Threader Browser Tests</h1>
    <div id="test-output"></div>
    <script type="module">
        import { createTestRunner } from "./runner.js";
        import { runChunkingTests } from "./chunking.test.js";
        import { runRichTextTests } from "./richText.test.js";
        import { runIntegrationTests } from "./integration.test.js";

        const outputElement = /** @type {HTMLElement} */ (document.getElementById("test-output"));
        const { runTest, summarize } = createTestRunner(outputElement);

        (async () => {
            try {
                await runChunkingTests(runTest);
                await runRichTextTests(runTest);
                await runIntegrationTests(runTest);
            } catch (error) {
                const errorMessage = document.createElement("p");
                errorMessage.textContent = `Unexpected test harness failure: ${error}`;
                outputElement.appendChild(errorMessage);
            } finally {
                summarize();
            }
        })();
    </script>
</body>
</html>
